{% extends "layout.html" %}

{% block body %}

<table>
    <form method="POST" id="create" action="{{ url_for('create_recipe') }}">
        <tr>
            <td>Recipe name <input type="text" name="name" /></td>
        </tr>
        <tr>
            <td>Instructions <textarea name="instructions"></textarea></td>
        </tr>
    </form>
    {% for key, value in ingredients_temp.items() %}
    <tr>
        <td>
            {{ key.name }}
        </td>
        <td>
            {{ value }}
        </td>
        <td>
            {{ key.unit }}
        </td>
        <td>
            <form method="POST" action="{{ url_for('clear_selection') }}">
                <input type="hidden" value="{{ key.id }}" name="key_id" />
                <input type="submit" value="x" />
            </form>
        </td>
    </tr>
    {% endfor %}
</table>

<br>

<table>
    <tr>
        <th>Ingredient</th>
        <th>Unit</th>
        <th>Amount</th>
    </tr>
    {% for ingredient in ingredients %}
    <tr>
        <td>{{ ingredient.name }}</td>
        <td>{{ ingredient.unit }}</td>
        <td>
            <form method="POST" action="{{ url_for('add_to_recipe') }}">
                <input type="text" name="amount" />
                <input type="hidden" value="{{ingredient.id}}" name="id" />
        </td>
        <td>
            <input type="submit" value="Add ingredient to recipe" />
            </form>
        </td>
    </tr>
    {% endfor %}
</table>
<br>
<input type="submit" form="create" value="Create recipe" />
{% endblock %}